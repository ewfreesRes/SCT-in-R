<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Actuarial Applications of DataCamp Light in R</title>
  <meta name="description" content="As businesses continue to collect greater amounts of data, it becomes important for people to develop the technical skills necessary to analyze the data, and report back to the company. One company, DataCamp, offers a solution that can be used to teach programming skills in R and Python. To do this, content creators imagine and design problems that need to be solved using a specific series of coded inputs to help teach. These problems each have solutions that enable the computer to check and see if the learner’s input correctly matches the solution input. In DataCamp, the code used to check for correctness are solution correctness tests, or SCTs for short. In this short tutorial, you will learn how to write a wide variety of SCTs using R.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Actuarial Applications of DataCamp Light in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="As businesses continue to collect greater amounts of data, it becomes important for people to develop the technical skills necessary to analyze the data, and report back to the company. One company, DataCamp, offers a solution that can be used to teach programming skills in R and Python. To do this, content creators imagine and design problems that need to be solved using a specific series of coded inputs to help teach. These problems each have solutions that enable the computer to check and see if the learner’s input correctly matches the solution input. In DataCamp, the code used to check for correctness are solution correctness tests, or SCTs for short. In this short tutorial, you will learn how to write a wide variety of SCTs using R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Actuarial Applications of DataCamp Light in R" />
  
  <meta name="twitter:description" content="As businesses continue to collect greater amounts of data, it becomes important for people to develop the technical skills necessary to analyze the data, and report back to the company. One company, DataCamp, offers a solution that can be used to teach programming skills in R and Python. To do this, content creators imagine and design problems that need to be solved using a specific series of coded inputs to help teach. These problems each have solutions that enable the computer to check and see if the learner’s input correctly matches the solution input. In DataCamp, the code used to check for correctness are solution correctness tests, or SCTs for short. In this short tutorial, you will learn how to write a wide variety of SCTs using R." />
  

<meta name="author" content="Jake W. Thornton">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="checking-functions.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script language="javascript">
function openTab(evt, tabName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
}

// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();
</script>

<script language="javascript">
function toggle(id1,id2) {
	var ele = document.getElementById(id1); var text = document.getElementById(id2);
	if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Solution";}
		else {ele.style.display = "block"; text.innerHTML = "Hide Solution";}}
</script>

<script language="javascript">
function togglecode(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show R Code";}
      else {ele.style.display = "block"; text.innerHTML = "Hide R Code";}}
</script>
<script language="javascript">
function toggleEX(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Example";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Example";}}
</script>
<script language="javascript">
function toggleTheory(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Theory";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Theory";}}
</script>

<script language="javascript">
function toggleDet(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Details";}
      else {ele.style.display = "block"; text.innerHTML = "Hide  Details";}}
</script>

<script language="javascript">
$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
});
</script>


<script src=https://cdn.datacamp.com/datacamp-light-latest.min.js></script>

<script>
$(document).ready(function(){
    $('[data-toggle="popover"]').popover(); 
});
</script>

<style>
/* Rearrange console label */
.datacamp-exercise ol li, .datacamp-exercise ul li {
  margin-bottom: 0em !important;
}

/* Remove bullet marker */
.datacamp-exercise ol li::before, .datacamp-exercise ul li::before {
  content: '' !important;
}
</style>


<script language="javascript">
var submitAnswer = function() {

  var radios = document.getElementsByName('choice');
  var val= "";
  for (var i = 0, length = radios.length; i < length; i++) {
      if (radios[i].checked) {
         val = radios[i].value; 
         break;
       }
  }
  
  if (val == "" ) {
    alert('please select choice answer');
  } else if ( val == "Correct" ) {
    alert('Answer is correct !');
  } else {
    alert('Answer is wrong');
  }
};
</script>





<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-125587869-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-125587869-1');
</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Actuarial Applications for DataCamp Light in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-submission-correctness-tests"><i class="fa fa-check"></i>About Submission Correctness Tests</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="pre-submission-correctness-test.html"><a href="pre-submission-correctness-test.html"><i class="fa fa-check"></i><b>1</b> Pre Submission Correctness Test</a><ul>
<li class="chapter" data-level="1.1" data-path="pre-submission-correctness-test.html"><a href="pre-submission-correctness-test.html#pre-exercise-code"><i class="fa fa-check"></i><b>1.1</b> Pre-Exercise Code</a></li>
<li class="chapter" data-level="1.2" data-path="pre-submission-correctness-test.html"><a href="pre-submission-correctness-test.html#solution"><i class="fa fa-check"></i><b>1.2</b> Solution</a></li>
<li class="chapter" data-level="1.3" data-path="pre-submission-correctness-test.html"><a href="pre-submission-correctness-test.html#sample-code"><i class="fa fa-check"></i><b>1.3</b> Sample Code</a></li>
<li class="chapter" data-level="1.4" data-path="pre-submission-correctness-test.html"><a href="pre-submission-correctness-test.html#hint"><i class="fa fa-check"></i><b>1.4</b> Hint</a></li>
<li class="chapter" data-level="1.5" data-path="pre-submission-correctness-test.html"><a href="pre-submission-correctness-test.html#example"><i class="fa fa-check"></i><b>1.5</b> Example</a><ul>
<li class="chapter" data-level="1.5.1" data-path="pre-submission-correctness-test.html"><a href="pre-submission-correctness-test.html#exercise.-fitting-galtons-height-data"><i class="fa fa-check"></i><b>1.5.1</b> Exercise. Fitting Galton’s height data</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="pre-submission-correctness-test.html"><a href="pre-submission-correctness-test.html#more-resources"><i class="fa fa-check"></i><b>1.6</b> More Resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="the-basics-of-scts.html"><a href="the-basics-of-scts.html"><i class="fa fa-check"></i><b>2</b> The Basics of SCT’s</a></li>
<li class="chapter" data-level="3" data-path="checking-objects.html"><a href="checking-objects.html"><i class="fa fa-check"></i><b>3</b> Checking Objects</a><ul>
<li class="chapter" data-level="3.1" data-path="checking-objects.html"><a href="checking-objects.html#checking-a-vector"><i class="fa fa-check"></i><b>3.1</b> Checking a vector</a><ul>
<li class="chapter" data-level="3.1.1" data-path="checking-objects.html"><a href="checking-objects.html#checking-an-objects-existence"><i class="fa fa-check"></i><b>3.1.1</b> Checking an object’s existence</a></li>
<li class="chapter" data-level="3.1.2" data-path="checking-objects.html"><a href="checking-objects.html#check-an-objects-correctness"><i class="fa fa-check"></i><b>3.1.2</b> Check an object’s correctness</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="checking-objects.html"><a href="checking-objects.html#checking-a-dataframe"><i class="fa fa-check"></i><b>3.2</b> Checking a Dataframe</a><ul>
<li class="chapter" data-level="3.2.1" data-path="checking-objects.html"><a href="checking-objects.html#checking-a-dataframes-existence-and-correctness"><i class="fa fa-check"></i><b>3.2.1</b> Checking a dataframe’s existence and correctness</a></li>
<li class="chapter" data-level="3.2.2" data-path="checking-objects.html"><a href="checking-objects.html#checking-columns"><i class="fa fa-check"></i><b>3.2.2</b> Checking columns</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="checking-objects.html"><a href="checking-objects.html#review"><i class="fa fa-check"></i><b>3.3</b> review</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="checking-functions.html"><a href="checking-functions.html"><i class="fa fa-check"></i><b>4</b> Checking Functions</a><ul>
<li class="chapter" data-level="4.1" data-path="checking-functions.html"><a href="checking-functions.html#checking-function-calls"><i class="fa fa-check"></i><b>4.1</b> Checking function calls</a></li>
<li class="chapter" data-level="4.2" data-path="checking-functions.html"><a href="checking-functions.html#calling-functions-correctly"><i class="fa fa-check"></i><b>4.2</b> Calling Functions Correctly</a><ul>
<li class="chapter" data-level="4.2.1" data-path="checking-functions.html"><a href="checking-functions.html#argument-approach"><i class="fa fa-check"></i><b>4.2.1</b> Argument Approach</a></li>
<li class="chapter" data-level="4.2.2" data-path="checking-functions.html"><a href="checking-functions.html#output-approach"><i class="fa fa-check"></i><b>4.2.2</b> Output Approach</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="checking-functions.html"><a href="checking-functions.html#review-1"><i class="fa fa-check"></i><b>4.3</b> review</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="extras.html"><a href="extras.html"><i class="fa fa-check"></i><b>5</b> Extras</a><ul>
<li class="chapter" data-level="5.1" data-path="extras.html"><a href="extras.html#checking-multiple-conditions"><i class="fa fa-check"></i><b>5.1</b> Checking Multiple Conditions</a><ul>
<li class="chapter" data-level="5.1.1" data-path="extras.html"><a href="extras.html#multiple-arguments"><i class="fa fa-check"></i><b>5.1.1</b> Multiple arguments</a></li>
<li class="chapter" data-level="5.1.2" data-path="extras.html"><a href="extras.html#multiple-columns"><i class="fa fa-check"></i><b>5.1.2</b> Multiple columns</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="extras.html"><a href="extras.html#multiple-function-calls"><i class="fa fa-check"></i><b>5.2</b> Multiple Function Calls</a></li>
<li class="chapter" data-level="5.3" data-path="extras.html"><a href="extras.html#messages"><i class="fa fa-check"></i><b>5.3</b> Messages</a><ul>
<li class="chapter" data-level="5.3.1" data-path="extras.html"><a href="extras.html#error-messages"><i class="fa fa-check"></i><b>5.3.1</b> Error Messages</a></li>
<li class="chapter" data-level="5.3.2" data-path="extras.html"><a href="extras.html#success-messages"><i class="fa fa-check"></i><b>5.3.2</b> Success Messages</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="extras.html"><a href="extras.html#review-2"><i class="fa fa-check"></i><b>5.4</b> review</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/thornton4/SCT-in-R" target="blank">Source Code on GitHub</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Actuarial Applications of DataCamp Light in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="extras" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Extras</h1>
<p><strong>Chapter Description</strong></p>
<p>This chapter introduces a variety of special conditions and unique functions that can be used to create more accurate and useful submission correctness tests. In addition to this, we also mention arguments of check functions that can be used to write custom error or success messages to your submission correctness tests.</p>
<div id="checking-multiple-conditions" class="section level2">
<h2><span class="header-section-number">5.1</span> Checking Multiple Conditions</h2>
<hr />
<p>In this section, you will learn how to:</p>
<p>-Check multiple arguments for a given function</p>
<p>-check multiple columns for a given dataframe</p>
<hr />
<div id="multiple-arguments" class="section level3">
<h3><span class="header-section-number">5.1.1</span> Multiple arguments</h3>
<p>While being able to check if a single argument is correct in a given function is nice, there are a wide variety of functions were a single argument is not sufficient in order to guarantee correctness of the learner’s submission. Some examples of functions like these are <code>lm()</code>, <code>plot()</code>, and <code>round()</code> as well as many others. Let us say you wanted the learner to run a simple linear regression on a data set. The solution may look something like the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lm</span>(hp<span class="op">~</span>mpg, <span class="dt">data=</span>mtcars)</code></pre></div>
<p>In this problem, we would want to be able to check that both the <code>formula</code> and the <code>data</code> arguments are specified correctly in the learner’s submission. In order for us to do this, we can make use of brackets <code>{}</code> in order to set up multiple checks for the same function. an example of an SCT that would properly check this would be the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_function</span>(<span class="st">&quot;lm&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>{
  <span class="kw">check_arg</span>(., <span class="st">&quot;formula&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
  <span class="kw">check_arg</span>(., <span class="st">&quot;data&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
}</code></pre></div>
<p>As a note: the <code>lm()</code> function is a very adaptable function, and there are multiple ways to run the regression and receive the same output, such as the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lm</span>(mtcars<span class="op">$</span>hp<span class="op">~</span>mtcars<span class="op">$</span>mpg)</code></pre></div>
<p>This means that at times, checking multiple arguments may not be the best fit for the SCT, and it may be better to simply check the result using <code>check_result()</code></p>
</div>
<div id="multiple-columns" class="section level3">
<h3><span class="header-section-number">5.1.2</span> Multiple columns</h3>
<p>Using brackets to check multiple things per call of <code>check_------()</code> is not just unique to functions, and can be applied to nearly all of the check functions that can be used. Another typical use of checking multiple items looks at multiple columns within a dataframe. Lets say you have the following pre-exercise and solution code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#pre-exercise</span>
mpg=mtcars<span class="op">$</span>mpg
hp=mtcars<span class="op">$</span>hp
test.data=<span class="kw">data.frame</span>(mpg,hp)

<span class="co">#solution code</span>
test.data<span class="op">$</span>L.hp=<span class="kw">log</span>(hp)
test.data<span class="op">$</span>SQRT.hp=<span class="kw">sqrt</span>(hp)</code></pre></div>
<p>While it is possible to simply check and see if the entire dataframe is correct using a SCT as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_object</span>(<span class="st">&quot;test.data&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</code></pre></div>
<p>The SCT does not give you the ability to help learner’s track down exactly where they went wrong in working their way to the solution. A more accurate and helpful approach would be to make use of brackets in the following way:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_object</span>(<span class="st">&quot;test.data&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>{
  <span class="kw">check_column</span>(., <span class="st">&quot;L.hp&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
  <span class="kw">check_column</span>(., <span class="st">&quot;SQRT.hp&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
} </code></pre></div>
<p>This gives learners more specific feedback if and when they make a mistake while trying to reach the correct answer.</p>
<p>As an important note, there are many instances in the SCT were a <code>check_arg()</code> or a <code>check_column()</code> has a <code>.</code> as the first argument followed by a <code>,</code> and then the name of the argument/column that we would like to check. This <code>.</code> is a very important argument for the <code>check</code> family of functions, as it allows the function to search the entirety of the function/dataframe for the listed argument/column, as opposed to only being able to check in a few pre-defined places. If you find that an SCT is not preforming how you believe it should, try adding the <code>.,</code> into your <code>check</code> functions to see if that alleviates the problem.</p>
</div>
</div>
<div id="multiple-function-calls" class="section level2">
<h2><span class="header-section-number">5.2</span> Multiple Function Calls</h2>
<hr />
<p>In this section, you will learn how to:</p>
<p>-Check if a function is called multiple times</p>
<p>-check if each function call gives the correct output</p>
<hr />
<p>Normally, a problem will only require that a function be called one time at most. Thing such as standard deviations, means, summarys, and plots are done once to get an overview of the data before any real analysis or manipulation of the data starts. However, there are situations where one must make multiple calls of these functions. One example could be if you wanted to have side-by-side graphs, showing the relationship between two things. The pre-exercise and solution code could look like the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Pre-exercise</span>
mpg=mtcars<span class="op">$</span>mpg
hp=mtcars<span class="op">$</span>hp
Lhp=<span class="kw">log</span>(mtcars<span class="op">$</span>hp)
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))

<span class="co">#Solution code</span>
<span class="kw">plot</span>(<span class="dt">x=</span>mpg, <span class="dt">y=</span>hp, <span class="dt">pch=</span><span class="dv">19</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">main=</span><span class="st">&quot;Miles per gallon vs Horsepower&quot;</span>)
<span class="kw">plot</span>(<span class="dt">x=</span>mpg, <span class="dt">y=</span>Lhp, <span class="dt">pch=</span><span class="dv">19</span>, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>, <span class="dt">main=</span><span class="st">&quot;Miles per gallon vs  log Horsepower&quot;</span>)</code></pre></div>
<p>The standard intuition would be to have 2 SCTs, one to check each call of the function <code>plot()</code> as follows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_function</span>(<span class="st">&quot;plot&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>{
  <span class="kw">check_arg</span>(., <span class="st">&quot;x&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
  <span class="kw">check_arg</span>(., <span class="st">&quot;y&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
}
<span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_function</span>(<span class="st">&quot;plot&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>{
  <span class="kw">check_arg</span>(., <span class="st">&quot;x&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
  <span class="kw">check_Arg</span>(., <span class="st">&quot;y&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
}</code></pre></div>
<p>While this may appear to make sense, as you check for plot twice, both calls of <code>check_function(&quot;plot&quot;)</code> will find the first instance of plot, and check that one only. This means even if you were to nest extra <code>check_arg()</code> such as the title or the color, both of the SCTs would focus on the first call of <code>plot()</code> to get around this, we can use an argument inside of <code>check_function()</code> named <code>index</code>. By setting index equal to an integer corresponding with which call of the function you would like the SCT to check, you can now check both calls of <code>plot()</code> and insure they were used correctly. The correct SCT for this problem could look like:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_function</span>(<span class="st">&quot;plot&quot;</span>, <span class="dt">index=</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span>{
  <span class="kw">check_arg</span>(., <span class="st">&quot;x&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
  <span class="kw">check_arg</span>(., <span class="st">&quot;y&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
}
<span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_function</span>(<span class="st">&quot;plot&quot;</span>, <span class="dt">index=</span><span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span>{
  <span class="kw">check_arg</span>(., <span class="st">&quot;x&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
  <span class="kw">check_arg</span>(., <span class="st">&quot;y&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
}</code></pre></div>
<p>Now our SCT is set so that our first call of <code>check_function()</code> looks specifically at the first call of <code>plot()</code> and our second call of <code>check_function()</code> looks only at the second call of <code>plot()</code></p>
</div>
<div id="messages" class="section level2">
<h2><span class="header-section-number">5.3</span> Messages</h2>
<hr />
<p>In this section, you will learn how to:</p>
<p>-Write custom error messages for each function in the <code>check</code> family.</p>
<p>-Include a success message at the end of a SCT</p>
<hr />
<div id="error-messages" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Error Messages</h3>
<p>For each and every <code>check</code> function that has been presented in this guide, there is also a matching error message that lets you input a custom message that is displayed if that particular <code>check</code> function is what causes the SCT to fail. Below is a guide showing each of the functions with its matching error message:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(Error.Messages,<span class="dt">row.names=</span><span class="ot">FALSE</span>)</code></pre></div>
<pre><code>##        Function               Message
##    check_object         undefined_msg
##    check_column       col_missing_msg
##  check_function        not_called_msg
##       check_arg arg_not_specified_msg
##     check_equal         incorrect_msg</code></pre>
<p>The <code>check_result()</code> function does not need to have its own error message, because check result does not actually check anything, it only passes along to the <code>check_equal()</code> that it should be making sure that the solutions are equal.</p>
<p>For example, lets say the pre-exercise and solution code looked something like the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#pre-exercise</span>
x=<span class="fl">4.68451</span>

<span class="co">#solution</span>
<span class="kw">round</span>(x,<span class="dv">4</span>)</code></pre></div>
<p>A working SCT with error messages could look like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_function</span>(<span class="st">&quot;round&quot;</span>, <span class="dt">not_called_msg=</span><span class="st">&quot;Use the `round()` function to round x.&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>{
  <span class="kw">check_arg</span>(., <span class="st">&quot;x&quot;</span>, <span class="dt">arg_not_specified_msg=</span><span class="st">&quot;Make sure to round the value found in x&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>(<span class="dt">incorrect_msg=</span><span class="st">&quot;Make sure x = 4.68451&quot;</span>)
  <span class="kw">check_arg</span>(., <span class="st">&quot;digits&quot;</span>,<span class="dt">arg_not_specified_msg=</span><span class="st">&quot;Make sure to specify we want to round x to a specific number of digits&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>(<span class="dt">incorrect_msg=</span><span class="st">&quot;We would like to round x to 4 digits&quot;</span>)
}</code></pre></div>
</div>
<div id="success-messages" class="section level3">
<h3><span class="header-section-number">5.3.2</span> Success Messages</h3>
<p>While it is always nice to know what you’ve gotten wrong, it is also nice to receive a positive message whenever you get the problem correct, this can be done with the <code>success_msg()</code> function. The <code>success_msg()</code> goes on its own line, and does not have the typical <code>ex() %&gt;%</code> that the other functions start with. For a very simple example lets say we have the following solution code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x=<span class="dv">4</span></code></pre></div>
<p>A SCT with a nice success_msg would look like the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_object</span>(<span class="st">&quot;x&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()
<span class="kw">success_msg</span>(<span class="st">&quot;Excellent! you were able to asssign a value of 4 to the variable x.&quot;</span>)</code></pre></div>
</div>
</div>
<div id="review-2" class="section level2">
<h2><span class="header-section-number">5.4</span> review</h2>
<hr />
<p><strong>By now, you should be able to:</strong></p>
<p>-Check for multiple function calls</p>
<p>-Check for multiple arguments/columns in a single SCT</p>
<p>-Write error and success messages</p>
<hr />

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="checking-functions.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": true,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/Chapters/Chapter3.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
